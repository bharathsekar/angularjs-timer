!function(){"use strict";function timer($interval){return{restrict:"E",link:function(scope,element,attrs){function setHtml(){element.html(getHumanizedDuration())}function startTimer(){interval=$interval(function(){duration=Number(duration)+Number(1e3),setHtml(),scope.$broadcast("timer-updated",duration)},1e3)}function stopTimer(){$interval.cancel(interval),scope.$broadcast("timer-stopped",duration),setHtml(),interval=void 0}function resetTimer(){$interval.cancel(interval),duration=0,setHtml(),scope.$broadcast("timer-reset"),interval=void 0}function destroyTimer(){$interval.cancel(interval),duration=0,scope.$broadcast("timer-destroyed"),interval=void 0}function getHumanizedDuration(){var inSeconds=duration/1e3,hours=Math.floor(inSeconds/3600).toFixed(0),minutes=Math.floor((inSeconds-3600*hours)/60).toFixed(0),seconds=inSeconds-3600*hours-(60*minutes).toFixed(0);return hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds),hours+":"+minutes+":"+seconds}var interval,duration=0;attrs.initDuration&&(duration=attrs.initDuration),setHtml(),element.on("$destroy",function(){destroyTimer()}),scope.$on("start-timer",function(event){startTimer()}),scope.$on("stop-timer",function(event){stopTimer()}),scope.$on("reset-timer",function(event){resetTimer()})}}}angular.module("angularjs-timer",[]).directive("timer",["$interval",timer])}();